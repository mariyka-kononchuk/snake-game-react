(this["webpackJsonpsnake-game-react"]=this["webpackJsonpsnake-game-react"]||[]).push([[0],{11:function(e){e.exports=JSON.parse('[{"name":"Rosie","score":40},{"name":"Hermione","score":20},{"name":"Eden","score":30},{"name":"Annie","score":50}]')},24:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(10),s=a.n(c),o=(a(23),a(24),a(17)),l=a(2),u=a(11),i=a(12),b=a(4),m=a.n(b),j=a(0),f=function(){var e=JSON.parse(localStorage.getItem("players"));if(e){var t,a=[],n=Object(i.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;a.push(r.score)}}catch(c){n.e(c)}finally{n.f()}return Math.max.apply(Math,a)}return 0}(),h=function(e){var t=e.score,a=e.name;return Object(j.jsx)("div",{className:m.a.bar,children:Object(j.jsxs)("div",{className:m.a.wrapper,children:[Object(j.jsxs)("p",{className:m.a.name,children:["Name: ",a]}),Object(j.jsxs)("p",{className:m.a.score,children:["Score:",t]}),Object(j.jsxs)("p",{className:m.a.high_score,children:["High-score:",f]})]})})},p=a(13),O=a(14),x=a(18),d=a(16),_=a(5),v=a.n(_),y=function(e){Object(x.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={name:""},e.handleChange=function(t){e.setState({name:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.setState({name:t.target.value}),e.props.onCreateNewPlayer(e.state),e.reset()},e.reset=function(){e.setState({name:""}),e.setState({status:""})},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.state.name;return Object(j.jsxs)("form",{onSubmit:this.handleSubmit,className:v.a.form,children:[Object(j.jsxs)("label",{className:v.a.label,children:[Object(j.jsx)("span",{className:v.a.title,children:"Enter your name"}),Object(j.jsx)("input",{className:v.a.input,type:"text",name:"name",value:e,onChange:this.handleChange,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0})]}),Object(j.jsx)("button",{className:v.a.button,type:"submit",children:"Begin game"})]})}}]),a}(n.Component),g=a(7),k=a.n(g),N=function(e){var t=e.score,a=e.onRestart;return Object(j.jsxs)("div",{className:k.a.game_over,children:[Object(j.jsx)("h2",{className:k.a.title,children:"GAME OVER"}),Object(j.jsxs)("p",{className:k.a.subtitle,children:["Your score: ",t]}),Object(j.jsx)("button",{className:k.a.button,type:"button",onClick:function(){return a()},children:"Restart game"})]})},S=a(8),C=a.n(S),w=a(15),M=a.n(w);function E(e){var t;switch(e.type){case"blank":t=C.a.blankCell;break;case"snake":t=C.a.snakeCell;break;case"food":t=C.a.fruitCell}return Object(j.jsx)("div",{className:M()(C.a.cell,t)})}function A(e){var t=e.rows.map((function(e){return Object(j.jsx)("li",{children:e.map((function(e){switch(e){case"blank":return Object(j.jsx)(E,{type:"blank"});case"snake":return Object(j.jsx)(E,{type:"snake"});case"food":return Object(j.jsx)(E,{type:"food"});default:return null}}))})}));return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("ul",{style:{width:"500px",padding:"0px",margin:"0px"},className:"img500",children:t})})}function F(){for(var e=10,t=[],a=0;a<e;a++){t.push([]);for(var r=0;r<e;r++)t[a].push("blank")}var c=function(){return{x:Math.floor(Math.random()*e),y:Math.floor(Math.random()*e)}},s=Object(n.useState)(""),i=Object(l.a)(s,2),b=i[0],m=i[1],f=Object(n.useState)(150),p=Object(l.a)(f,2),O=p[0],x=p[1],d=Object(n.useState)("start"),_=Object(l.a)(d,2),v=_[0],g=_[1],k=Object(n.useState)(0),S=Object(l.a)(k,2),C=S[0],w=S[1],M=Object(n.useState)(u),E=Object(l.a)(M,2),F=E[0],B=E[1],G=Object(n.useState)(t),J=Object(l.a)(G,2),R=J[0],z=J[1],H=Object(n.useState)([{x:5,y:4},{x:5,y:5}]),I=Object(l.a)(H,2),q=I[0],P=I[1],X=Object(n.useState)("right"),Z=Object(l.a)(X,2),U=Z[0],D=Z[1],L=Object(n.useState)(c),T=Object(l.a)(L,2),V=T[0],W=T[1];!function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){$()}),"game"===v?O:null);document.addEventListener("keydown",(function(e){switch(e.keyCode){case 37:D("left");break;case 38:D("top");break;case 39:D("right");break;case 40:D("bottom");break;case 32:if("game"===v)return void g("pause");if("pause"===v)return void g("game")}}),!1);var Y=function(){var e=t;q.forEach((function(t){e[t.x][t.y]="snake"})),e[V.x][V.y]="food",z(e)},$=function(){var e=[];switch(U){case"right":e.push({x:q[0].x,y:q[0].y+1});break;case"left":e.push({x:q[0].x,y:q[0].y-1});break;case"top":e.push({x:q[0].x-1,y:q[0].y});break;case"bottom":e.push({x:q[0].x+1,y:q[0].y});break;default:return}q.forEach((function(t){e.push(t)})),q[0].x===V.x&&q[0].y===V.y?(W(c),K()):e.pop(),P(e),Y()},K=function(){w(C+10)},Q=function(){g("game_over"),P([{x:5,y:4},{x:5,y:5}]),B([{name:b,score:C}].concat(Object(o.a)(F))),localStorage.setItem("players",JSON.stringify(F))};return Object(n.useEffect)((function(){console.log("check"),q[0].x===q[q.length-1].x&&q[0].y===q[q.length-1].y&&Q(),(q[0].x>=e||q[0].y>=e||q[0].x<0||q[0].y<0)&&Q()}),[q]),"start"===v?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(y,{onCreateNewPlayer:function(e){var t=e.name;m(t),g("pause"),w(0),Y()}})}):"game"===v||"pause"===v?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{score:C,name:b,status:v}),Object(j.jsx)("div",{className:"game-area",children:Object(j.jsx)(A,{rows:R})})]}):"game_over"===v?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(N,{score:C,onRestart:function(){m(""),x(150),g("start")}})}):void 0}s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(F,{})}),document.querySelector("#root"))},4:function(e,t,a){e.exports={bar:"StatusBar_bar__HNv8u",wrapper:"StatusBar_wrapper__2p79U",name:"StatusBar_name__a3APu",score:"StatusBar_score__3rnNU",high_score:"StatusBar_high_score__3nc0T"}},5:function(e,t,a){e.exports={form:"NameForm_form__3Nrv6",label:"NameForm_label__2mvyq",title:"NameForm_title__da_wE",input:"NameForm_input__1hbdH",button:"NameForm_button__2xi8l"}},7:function(e,t,a){e.exports={game_over:"GameOver_game_over__1xNBM",title:"GameOver_title__38Wo8",subtitle:"GameOver_subtitle__3xbhX",button:"GameOver_button__1GM6z"}},8:function(e,t,a){e.exports={snakeCell:"Cell_snakeCell__dOSNM",blankCell:"Cell_blankCell__nFpXh",fruitCell:"Cell_fruitCell__dXwAu"}}},[[26,1,2]]]);
//# sourceMappingURL=main.c116205b.chunk.js.map